<!doctype html>
<html>
<head>
	<title>Connect Your Brain!!!</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
	<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js" integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
	<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body>
<div class="container">
	<div class="row justify-content-center">
		<div class="col-md-7">
			<br>
		    <div class="text-center">
			    <h2><a href="javascript:main();" style="text-decoration: none;">SGINSIDE</a></h2>
			</div>
		    <div class="card">
				<div class="card-header text-center">
				    <!--UUID가 null일때 나오는놈-->
				    <div th:if="${session.uuid == null}">
				        <form class="form-inline" method="post" action="login">
				            <div style="display: flex; flex-direction: column; align-items: center;">
				                <div class="form-group" style="display: flex;">
				                    <input type="text" class="form-control" id="userId" name="userId" placeholder="아이디를 입력해주세요" style="font-size: 13px;">
				                    <button type="submit" class="btn btn-primary" onclick="return login();" style="font-size: 14px; width:125px; height:35px; margin-left: 5px;">로그인</button>
				                </div>
				                <div class="form-group" style="display: flex; margin-top: 5px;">
				                    <input type="password" class="form-control" id="password" name="password" placeholder="비밀번호를 입력해주세요" style="font-size: 13px; margin-top: 5px;">
				                    <button type="button" class="btn btn-primary" onclick="insert();" style="font-size: 14px; width:125px; height:35px; margin-left: 5px; margin-top: 5px;">회원가입</button>
				                </div>
				                <input type="hidden" id="url" name="url">
				            </div>
				        </form>
				    </div>
				    <!--UUID가 있을때 나오는놈-->
				    <div th:if="${session.uuid}">
				        <form class="form-inline" method="post" action="logout">
				            <div style="display: flex; flex-direction: column; align-items: center;">
								<h3 id="userNickname" th:text="${session.nickname} + '님 환영합니다'"></h3>
								<div class="form-group" style="margin-top: 2px;">
								    <button type="submit" class="btn btn-primary" onclick="return logout();">로그아웃</button>
								    <button type="button" class="btn btn-success" style="margin-left: 2px;" onclick="insert();">회원정보 변경</button>
								    <button type="button" th:if="${session.userType == 'admin'}" class="btn btn-dark" style="margin-left: 2px;" onclick="create();">갤러리 생성</button>
								</div>
				                <input type="hidden" id="url" name="url">
				            </div>
				        </form>
				    </div>
				</div>
			    <div class="card-body text-center">
				    <form method="post" action="/mainPage.do">
					    <div class="table-responsive">
					       <table class="table table-hover" style="margin: 0 auto;">
					          <thead>
					             <tr>
					                <th style="text-align: center;">갤러리</th>
					             </tr>
					          </thead>
					          <tbody id="gallList">
					          </tbody>
					       </table>
					    </div>
					 </form>
				 </div>
				<div class="card-footer text-center">
				   <h2><a href="javascript:main();" style="text-decoration: none;">SGINSIDE</a></h2>
				</div>
		    </div>
		</div>
	</div>
</div>
<script src="/js/mainPage.js"></script>
</body>
</html>