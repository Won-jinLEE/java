<!DOCTYPE html>
<html>
<head>
<title>Connect Your Brain!!!</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
	<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js" integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
	<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
	<link rel="stylesheet" type="text/css" th:href="@{/css/fileUpload.css}">
</head>
<body>
<div class="container">
	<div class="row justify-content-center">
		<div class="col-md-7">
			<center>
		    	<h2 style="margin-top: 10px"><a href="javascript:main();" style="text-decoration: none;">SGINSIDE</a></h2>
		    </center>
		    
		    <div th:if="${#strings.toLowerCase(param.workType) == 'post'}">
				<!--UUID가 null일때 나오는놈-->
				<div class="card">
					<div class="card-header">
						<div th:if="${session.uuid == null}">
					        <form class="form-inline" method="post" action="login">
					            <div style="display: flex; flex-direction: column; align-items: center;">
					                <div class="form-group" style="display: flex;">
					                    <input type="text" class="form-control" id="userId" name="userId" placeholder="아이디를 입력해주세요" style="font-size: 13px;">
					                    <button type="submit" class="btn btn-primary" onclick="return login();" style="font-size: 14px; width:125px; height:35px; margin-left: 5px;">로그인</button>
					                </div>
					                <div class="form-group" style="display: flex; margin-top: 5px;">
					                    <input type="password" class="form-control" id="password" name="password" placeholder="비밀번호를 입력해주세요" style="font-size: 13px; margin-top: 5px;">
					                    <button type="button" class="btn btn-primary" onclick="insert();" style="font-size: 14px; width:125px; height:35px; margin-left: 5px; margin-top: 5px;">회원가입</button>
					                </div>
					                <input type="hidden" id="url" name="url">
					            </div>
					        </form>
					    </div>
					    <!--UUID가 있을때 나오는놈-->
					    <div th:if="${session.uuid != null}">
					        <form class="form-inline" method="post" action="logout">
					            <div style="display: flex; flex-direction: column; align-items: center;">
									<h3 id="userNickname" th:text="${session.nickname} + '님 환영합니다'"></h3>
									<div class="form-group" style="margin-top: 2px;">
									    <button type="submit" class="btn btn-primary" onclick="return logout();">로그아웃</button>
									    <button type="button" class="btn btn-success" style="margin-left: 2px;" onclick="insert();">회원정보 변경</button>
									    <button type="button" th:if="${session.userType == 'admin'}" class="btn btn-dark" style="margin-left: 2px;" onclick="create();">갤러리 생성</button>
									</div>
					                <input type="hidden" id="url" name="url">
					            </div>
					        </form>
					    </div>
					</div>
				</div>
		    </div>
		    
		    <div class="card" style="margin-top: 5px;">
		    	
		    	<div class="card-header">
		    		
					<div th:if="${#strings.toLowerCase(param.workType) == 'post'}">
						
						<div th:if="${session.uuid == null}">
						    <form class="form-inline">
					            <div class="form-group">
					                <input type="text" class="form-control" id="postNickName" placeholder="닉네임" style="display: inline-block; width: 25%; margin-bottom:5px">
									<input type="password" class="form-control" id="postPassword" placeholder="비밀번호" style="display: inline-block; width: 25%; margin-bottom:5px">
									<input type="hidden" class="form-control" id="loginCheck" value="N">
					            </div>
					        </form>
						</div>
						
				        <div th:if="${session.uuid != null}">
			                <input type="hidden" class="form-control" id="postNickName" th:value="${session.nickName}">
							<input type="hidden" class="form-control" id="postPassword" th:value="${session.uuid}">
							<input type="hidden" class="form-control" id="loginCheck" value="Y">
				        </div>
				        
					</div>
			        
			        <form class="form-inline" action="">
				        <div style="display: flex; margin-top: 5px;">
				            <div class="form-group">
				            	<div class="col-sm-12">
									<!--workType=modify일때는 채워야됨-->
									<input type="text" class="form-control" id="title" placeholder="제목을 입력해주세요" style="width: 200%; margin-bottom: 5px;">
				            	</div>
				            </div>
				        </div>
				    </form>
				    
				    <form class="form-inline" action="">
					  <label for="fileInput" style="margin-bottom:5px">
					  	  <div class="fileBtn">이미지</div>
					  </label>
				   	  <input type="file" id="fileInput" name="fileInput" accept=".jpg, .jpeg, .png, .gif, .bmp, .webp">
					</form>
					
				</div>
			    <div class="card-body">
			    
				    <form class="form-horizontal" method="post" action="/gallPage.do">
				    	<div class="form-group">
							<!--workType=modify일때는 채워야됨-->
						   <div class="col-sm-12" id="contents" contenteditable="true" style="min-height: 20em; border: 1px solid #ccc; border-radius: 5px; padding: 10px;"></div>
						</div>
					 </form>
					 
				 </div>
				
				<div class="card-footer">
				
					<div th:if="${#strings.toLowerCase(param.workType) == 'post'}">
					   <form class="form-inline" action="addPost.do" method="post">
						   <div class="form-group">
						      <button type="submit" class="btn btn-primary" onclick="return postCheck();">등록</button>
						      <input type="hidden" id="post_seq" name="post_seq" value="${seq}">
						      <button type="button" class="btn btn-dark" onclick="cancle();">취소</button>
						      <input type="hidden" id="throwGallIdx" name="throwGallIdx">
						      <input type="hidden" id="throwGallName" name="throwGallName">
						      <input type="hidden" id="throwPostNickName" name="throwPostNickName">
						      <input type="hidden" id="throwPostPassword" name="throwPostPassword">
						      <input type="hidden" id="throwLoginCheck" name="throwLoginCheck">
						      <input type="hidden" id="throwPostTitle" name="throwPostTitle">
						      <input type="hidden" id="throwPostContents" name="throwPostContents">
						   </div>
					   </form>
					</div>
				   	<div th:if="${#strings.toLowerCase(param.workType) == 'modify'}">
					   <form class="form-inline" action="modifyPost.do" method="post">
						   <div class="form-group">
						      <button type="submit" class="btn btn-primary" onclick="return modifyCheck();">수정</button>
						      <button type="button" class="btn btn-dark" onclick="cancle();">취소</button>
						      <input type="hidden" id="throwGallIdx" name="throwGallIdx">
						      <input type="hidden" id="throwGallName" name="throwGallName">
						      <input type="hidden" id="throwPostSeq" name="throwPostSeq" value="${seq}">
						      <input type="hidden" id="throwPostTitle" name="throwPostTitle">
						      <input type="hidden" id="throwPostContents" name="throwPostContents">
						   </div>
					   </form>
				   	</div>
				</div>
				
		    </div>
		</div>
	</div>
</div>
</body>
<script src="/js/postPage.js"></script>
</html>